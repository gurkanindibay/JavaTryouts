{
    "id":  null,
    "title":  "Spring Boot Application Overview",
    "tags":  [
                 "spring-boot",
                 "collections-challenge",
                 "overview"
             ],
    "style":  "dark",
    "timezone":  "browser",
    "refresh":  "30s",
    "time":  {
                 "from":  "now-1h",
                 "to":  "now"
             },
    "panels":  [
                   {
                       "id":  1,
                       "title":  "Application Status",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  6,
                                       "x":  0,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "expr":  "up{job=\"spring-boot-app\"}",
                                           "legendFormat":  "Application Up"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "color":  {
                                                                          "mode":  "thresholds"
                                                                      },
                                                            "thresholds":  {
                                                                               "steps":  [
                                                                                             {
                                                                                                 "color":  "red",
                                                                                                 "value":  0
                                                                                             },
                                                                                             {
                                                                                                 "color":  "green",
                                                                                                 "value":  1
                                                                                             }
                                                                                         ]
                                                                           },
                                                            "mappings":  [
                                                                             {
                                                                                 "options":  {
                                                                                                 "0":  {
                                                                                                           "text":  "DOWN"
                                                                                                       }
                                                                                             },
                                                                                 "type":  "value"
                                                                             },
                                                                             {
                                                                                 "options":  {
                                                                                                 "1":  {
                                                                                                           "text":  "UP"
                                                                                                       }
                                                                                             },
                                                                                 "type":  "value"
                                                                             }
                                                                         ]
                                                        }
                                       }
                   },
                   {
                       "id":  2,
                       "title":  "Application Ready Time",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  6,
                                       "x":  6,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "expr":  "application_ready_time_seconds{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Ready Time (s)"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "unit":  "s",
                                                            "color":  {
                                                                          "mode":  "palette-classic"
                                                                      }
                                                        }
                                       }
                   },
                   {
                       "id":  3,
                       "title":  "Process Uptime",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  6,
                                       "x":  12,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "expr":  "process_uptime_seconds{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Uptime"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "unit":  "s",
                                                            "color":  {
                                                                          "mode":  "palette-classic"
                                                                      }
                                                        }
                                       }
                   },
                   {
                       "id":  4,
                       "title":  "System CPU Usage",
                       "type":  "gauge",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  6,
                                       "x":  18,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "expr":  "system_cpu_usage{application=\"collections-kafka-challenge\"} * 100",
                                           "legendFormat":  "CPU %"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "unit":  "percent",
                                                            "min":  0,
                                                            "max":  100,
                                                            "thresholds":  {
                                                                               "steps":  [
                                                                                             {
                                                                                                 "color":  "green",
                                                                                                 "value":  0
                                                                                             },
                                                                                             {
                                                                                                 "color":  "yellow",
                                                                                                 "value":  60
                                                                                             },
                                                                                             {
                                                                                                 "color":  "red",
                                                                                                 "value":  80
                                                                                             }
                                                                                         ]
                                                                           }
                                                        }
                                       }
                   },
                   {
                       "id":  5,
                       "title":  "HTTP Request Rate",
                       "type":  "graph",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  0,
                                       "y":  8
                                   },
                       "targets":  [
                                       {
                                           "expr":  "rate(http_server_requests_seconds_count{application=\"collections-kafka-challenge\"}[5m])",
                                           "legendFormat":  "{{method}} {{uri}} - {{status}}"
                                       }
                                   ],
                       "yAxes":  [
                                     {
                                         "label":  "Requests/sec",
                                         "min":  0
                                     },
                                     {
                                         "show":  false
                                     }
                                 ],
                       "legend":  {
                                      "show":  true,
                                      "alignAsTable":  true,
                                      "rightSide":  false
                                  }
                   },
                   {
                       "id":  6,
                       "title":  "HTTP Response Times",
                       "type":  "graph",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  12,
                                       "y":  8
                                   },
                       "targets":  [
                                       {
                                           "expr":  "histogram_quantile(0.50, rate(http_server_requests_seconds_bucket{application=\"collections-kafka-challenge\"}[5m]))",
                                           "legendFormat":  "50th percentile"
                                       },
                                       {
                                           "expr":  "histogram_quantile(0.95, rate(http_server_requests_seconds_bucket{application=\"collections-kafka-challenge\"}[5m]))",
                                           "legendFormat":  "95th percentile"
                                       },
                                       {
                                           "expr":  "histogram_quantile(0.99, rate(http_server_requests_seconds_bucket{application=\"collections-kafka-challenge\"}[5m]))",
                                           "legendFormat":  "99th percentile"
                                       }
                                   ],
                       "yAxes":  [
                                     {
                                         "label":  "Response Time",
                                         "unit":  "s",
                                         "min":  0
                                     },
                                     {
                                         "show":  false
                                     }
                                 ]
                   },
                   {
                       "id":  7,
                       "title":  "Books Operations",
                       "type":  "graph",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  0,
                                       "y":  16
                                   },
                       "targets":  [
                                       {
                                           "expr":  "books_borrowed_total{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Books Borrowed"
                                       },
                                       {
                                           "expr":  "rate(book_operation_duration_seconds_count{application=\"collections-kafka-challenge\"}[5m])",
                                           "legendFormat":  "Operation Rate"
                                       }
                                   ],
                       "yAxes":  [
                                     {
                                         "label":  "Count/Rate",
                                         "min":  0
                                     },
                                     {
                                         "show":  false
                                     }
                                 ]
                   },
                   {
                       "id":  8,
                       "title":  "Database Connections",
                       "type":  "graph",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  12,
                                       "y":  16
                                   },
                       "targets":  [
                                       {
                                           "expr":  "hikaricp_connections_active{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Active Connections"
                                       },
                                       {
                                           "expr":  "hikaricp_connections_idle{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Idle Connections"
                                       },
                                       {
                                           "expr":  "hikaricp_connections_max{application=\"collections-kafka-challenge\"}",
                                           "legendFormat":  "Max Connections"
                                       }
                                   ],
                       "yAxes":  [
                                     {
                                         "label":  "Connections",
                                         "min":  0
                                     },
                                     {
                                         "show":  false
                                     }
                                 ]
                   }
               ]
}
